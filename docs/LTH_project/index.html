<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="이태현">
<meta name="dcterms.date" content="2024-07-17">

<title>TEAM_What-is-the-dinner-menu - 전통시장 점포 규모와 인구비율에 관한 분석</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">TEAM_What-is-the-dinner-menu</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../presentation 0.html"> 
<span class="menu-text">presentation 0</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#분석-목적" id="toc-분석-목적" class="nav-link active" data-scroll-target="#분석-목적">분석 목적</a></li>
  <li><a href="#점포수-크기에-따른-연령층-확인하기" id="toc-점포수-크기에-따른-연령층-확인하기" class="nav-link" data-scroll-target="#점포수-크기에-따른-연령층-확인하기">점포수 크기에 따른 연령층 확인하기</a></li>
  <li><a href="#전통시장-데이터-불러오기" id="toc-전통시장-데이터-불러오기" class="nav-link" data-scroll-target="#전통시장-데이터-불러오기">전통시장 데이터 불러오기</a></li>
  <li><a href="#인구-데이터와-시장-데이터-합치기" id="toc-인구-데이터와-시장-데이터-합치기" class="nav-link" data-scroll-target="#인구-데이터와-시장-데이터-합치기">인구 데이터와 시장 데이터 합치기</a></li>
  <li><a href="#대-이상-비율의-계급-나누기" id="toc-대-이상-비율의-계급-나누기" class="nav-link" data-scroll-target="#대-이상-비율의-계급-나누기">60대 이상 비율의 계급 나누기</a></li>
  <li><a href="#시장-종류-갯수" id="toc-시장-종류-갯수" class="nav-link" data-scroll-target="#시장-종류-갯수">시장 종류 갯수</a></li>
  <li><a href="#점포갯수-노인인구" id="toc-점포갯수-노인인구" class="nav-link" data-scroll-target="#점포갯수-노인인구">점포갯수 / 노인인구</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">전통시장 점포 규모와 인구비율에 관한 분석</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>이태현 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 17, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="분석-목적" class="level1">
<h1>분석 목적</h1>
<p>전통시장 홍보 목적 가설 : 만약 인구가 많아도 점포수가 적으면 홍보 필요성이 생긴다. 여행 루트에 전통시장을 추가?</p>
<p>2024년 4월에 보도된 <a href="https://m.thesegye.com/news/view/1065580969734925">세계타임즈</a>에서 KB국민카드의 전통시장 카드 소비 데이터 분석을 볼 수 있습니다. 전통시장의 연령별 매출 비중에서 40%는 60대 이상에서 발생되었습니다. 50대 26%, 40대 17%, 30대 10%, 20대 7%로 연령대가 높을수록 매출 비중이 높게 나타났습니다.</p>
<p>시장은 인구가 많은 곳에 분포되어 있는데, 전통시장 또한 단순히 인구가 많은 곳이 점포수가 많은지? 주 고객층인 60대 이상이 많은 지역에 점포수가 많은지? 알고 싶었다.</p>
<p>2015년 기준으로 60대 이상 비율이 높은 행정구역에 점포수가 많이 분포되어 있는지 분석하기. 이를 바탕으로 60대 비율이 적고, 인구가 많은 곳에 점포수가 많은지? 60대 이상 비율이 높고, 인구가 적은 구역에 점포수가 많은지 비교하기. 어느특징에 따라 전통시장이 많이 위치한지 분석해보았습니다.</p>
<section id="나이-나누기" class="level4">
<h4 class="anchored" data-anchor-id="나이-나누기">나이 나누기</h4>
<p><code>0~19세 = age_under_20</code></p>
<p><code>20~59세 = age_2050</code></p>
<p><code>60~100세 이상 = age_over_60</code></p>
<p>한국은 공공기관 및 일부 기업이 60세로 정년으로 두고 있기 때문에 위와 같이 노년의 기준을 60세 이상으로 정했습니다.</p>
<p>(미국과 유럽은 60~65세 사이를 정년으로 두고 있습니다.)</p>
</section>
</section>
<section id="점포수-크기에-따른-연령층-확인하기" class="level1">
<h1>점포수 크기에 따른 연령층 확인하기</h1>
<div id="093d17d9" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="년-12월-기준-인구조사-파일-불러오기" class="level4">
<h4 class="anchored" data-anchor-id="년-12월-기준-인구조사-파일-불러오기">2015년 12월 기준 인구조사 파일 불러오기</h4>
<div id="a6eb8872" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> pd.read_excel(<span class="st">'data/pop_2015.xlsx'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="원본-숫자-안에-를-없애기-문자열을-숫자열로-바꾸기" class="level4">
<h4 class="anchored" data-anchor-id="원본-숫자-안에-를-없애기-문자열을-숫자열로-바꾸기">원본 숫자 안에 , 를 없애기 (문자열을 숫자열로 바꾸기)</h4>
<p>원본 데이터의 values를 보면 천 단위로 , 가 있다. 때문에 문자열로 인식되어서 이를 지우고 숫자열로 바꾼다.</p>
<div id="3f32d465" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> pop.iloc[<span class="dv">1</span>:<span class="dv">18</span>,<span class="dv">1</span>:<span class="dv">14</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> subset.columns:</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    subset[col] <span class="op">=</span> subset[col].<span class="bu">str</span>.replace(<span class="st">','</span>, <span class="st">''</span>).astype(<span class="bu">int</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>subset</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">총 인구수</th>
<th data-quarto-table-cell-role="th">연령구간인구수</th>
<th data-quarto-table-cell-role="th">0~9세</th>
<th data-quarto-table-cell-role="th">10~19세</th>
<th data-quarto-table-cell-role="th">20~29세</th>
<th data-quarto-table-cell-role="th">30~39세</th>
<th data-quarto-table-cell-role="th">40~49세</th>
<th data-quarto-table-cell-role="th">50~59세</th>
<th data-quarto-table-cell-role="th">60~69세</th>
<th data-quarto-table-cell-role="th">70~79세</th>
<th data-quarto-table-cell-role="th">80~89세</th>
<th data-quarto-table-cell-role="th">90~99세</th>
<th data-quarto-table-cell-role="th">100세 이상</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>10022181</td>
<td>10022181</td>
<td>783299</td>
<td>985790</td>
<td>1447221</td>
<td>1668253</td>
<td>1701609</td>
<td>1588333</td>
<td>1037752</td>
<td>582367</td>
<td>192801</td>
<td>29719</td>
<td>5037</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>3513777</td>
<td>3513777</td>
<td>267227</td>
<td>345503</td>
<td>456514</td>
<td>493958</td>
<td>568218</td>
<td>619703</td>
<td>432899</td>
<td>239641</td>
<td>79128</td>
<td>9497</td>
<td>1489</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>2487829</td>
<td>2487829</td>
<td>208115</td>
<td>289590</td>
<td>326755</td>
<td>342633</td>
<td>438674</td>
<td>419653</td>
<td>253693</td>
<td>148884</td>
<td>53282</td>
<td>6007</td>
<td>543</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>2925815</td>
<td>2925815</td>
<td>271758</td>
<td>324530</td>
<td>402113</td>
<td>455898</td>
<td>516105</td>
<td>494119</td>
<td>255834</td>
<td>142147</td>
<td>54650</td>
<td>7960</td>
<td>701</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>1472199</td>
<td>1472199</td>
<td>143700</td>
<td>197005</td>
<td>198686</td>
<td>221036</td>
<td>258049</td>
<td>217366</td>
<td>127348</td>
<td>76489</td>
<td>28346</td>
<td>3860</td>
<td>314</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>1518775</td>
<td>1518775</td>
<td>145049</td>
<td>184964</td>
<td>210749</td>
<td>228720</td>
<td>267008</td>
<td>238664</td>
<td>134281</td>
<td>76136</td>
<td>29005</td>
<td>3918</td>
<td>281</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>1173534</td>
<td>1173534</td>
<td>116241</td>
<td>139958</td>
<td>158615</td>
<td>180833</td>
<td>211988</td>
<td>201390</td>
<td>100468</td>
<td>45817</td>
<td>16011</td>
<td>2074</td>
<td>139</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>210884</td>
<td>210884</td>
<td>29825</td>
<td>23398</td>
<td>23043</td>
<td>40025</td>
<td>37370</td>
<td>25872</td>
<td>15614</td>
<td>10351</td>
<td>4718</td>
<td>634</td>
<td>34</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>12522606</td>
<td>12522606</td>
<td>1251234</td>
<td>1479739</td>
<td>1644870</td>
<td>1969170</td>
<td>2302937</td>
<td>1962003</td>
<td>1027712</td>
<td>616198</td>
<td>232931</td>
<td>32804</td>
<td>3008</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>1549507</td>
<td>1549507</td>
<td>123275</td>
<td>171073</td>
<td>184802</td>
<td>189754</td>
<td>250407</td>
<td>269286</td>
<td>171452</td>
<td>131730</td>
<td>49542</td>
<td>7578</td>
<td>608</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>1583952</td>
<td>1583952</td>
<td>142319</td>
<td>179628</td>
<td>196456</td>
<td>216258</td>
<td>262133</td>
<td>260270</td>
<td>158194</td>
<td>114586</td>
<td>47691</td>
<td>5977</td>
<td>440</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>2077649</td>
<td>2077649</td>
<td>197236</td>
<td>229214</td>
<td>244233</td>
<td>296909</td>
<td>333108</td>
<td>318857</td>
<td>212781</td>
<td>160439</td>
<td>74759</td>
<td>9433</td>
<td>680</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>1869711</td>
<td>1869711</td>
<td>159824</td>
<td>217813</td>
<td>218698</td>
<td>232517</td>
<td>299535</td>
<td>295583</td>
<td>210933</td>
<td>155007</td>
<td>70437</td>
<td>8725</td>
<td>639</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>1908996</td>
<td>1908996</td>
<td>158142</td>
<td>209957</td>
<td>206551</td>
<td>224820</td>
<td>291730</td>
<td>308904</td>
<td>224235</td>
<td>190822</td>
<td>82190</td>
<td>10892</td>
<td>753</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>2702826</td>
<td>2702826</td>
<td>223394</td>
<td>277327</td>
<td>311383</td>
<td>347557</td>
<td>428513</td>
<td>456781</td>
<td>314821</td>
<td>229763</td>
<td>99895</td>
<td>12658</td>
<td>734</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>3364702</td>
<td>3364702</td>
<td>317867</td>
<td>384287</td>
<td>394794</td>
<td>476814</td>
<td>580967</td>
<td>551878</td>
<td>337382</td>
<td>216802</td>
<td>92498</td>
<td>10817</td>
<td>596</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>624395</td>
<td>624395</td>
<td>63183</td>
<td>77313</td>
<td>73565</td>
<td>85811</td>
<td>110642</td>
<td>96129</td>
<td>57880</td>
<td>39258</td>
<td>17326</td>
<td>3075</td>
<td>213</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="89795623" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pop.iloc[<span class="dv">1</span>:<span class="dv">18</span>,<span class="dv">1</span>:<span class="dv">14</span>] <span class="op">=</span> subset</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> pop.iloc[<span class="dv">0</span>:<span class="dv">18</span>,<span class="dv">0</span>:<span class="dv">14</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>pop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">행정기관</th>
<th data-quarto-table-cell-role="th">총 인구수</th>
<th data-quarto-table-cell-role="th">연령구간인구수</th>
<th data-quarto-table-cell-role="th">0~9세</th>
<th data-quarto-table-cell-role="th">10~19세</th>
<th data-quarto-table-cell-role="th">20~29세</th>
<th data-quarto-table-cell-role="th">30~39세</th>
<th data-quarto-table-cell-role="th">40~49세</th>
<th data-quarto-table-cell-role="th">50~59세</th>
<th data-quarto-table-cell-role="th">60~69세</th>
<th data-quarto-table-cell-role="th">70~79세</th>
<th data-quarto-table-cell-role="th">80~89세</th>
<th data-quarto-table-cell-role="th">90~99세</th>
<th data-quarto-table-cell-role="th">100세 이상</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>51,529,338</td>
<td>51,529,338</td>
<td>4,601,688</td>
<td>5,717,089</td>
<td>6,699,048</td>
<td>7,670,966</td>
<td>8,858,993</td>
<td>8,324,791</td>
<td>5,073,279</td>
<td>3,176,437</td>
<td>1,225,210</td>
<td>165,628</td>
<td>16,209</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울특별시</td>
<td>10022181</td>
<td>10022181</td>
<td>783299</td>
<td>985790</td>
<td>1447221</td>
<td>1668253</td>
<td>1701609</td>
<td>1588333</td>
<td>1037752</td>
<td>582367</td>
<td>192801</td>
<td>29719</td>
<td>5037</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>부산광역시</td>
<td>3513777</td>
<td>3513777</td>
<td>267227</td>
<td>345503</td>
<td>456514</td>
<td>493958</td>
<td>568218</td>
<td>619703</td>
<td>432899</td>
<td>239641</td>
<td>79128</td>
<td>9497</td>
<td>1489</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>대구광역시</td>
<td>2487829</td>
<td>2487829</td>
<td>208115</td>
<td>289590</td>
<td>326755</td>
<td>342633</td>
<td>438674</td>
<td>419653</td>
<td>253693</td>
<td>148884</td>
<td>53282</td>
<td>6007</td>
<td>543</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>인천광역시</td>
<td>2925815</td>
<td>2925815</td>
<td>271758</td>
<td>324530</td>
<td>402113</td>
<td>455898</td>
<td>516105</td>
<td>494119</td>
<td>255834</td>
<td>142147</td>
<td>54650</td>
<td>7960</td>
<td>701</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>광주광역시</td>
<td>1472199</td>
<td>1472199</td>
<td>143700</td>
<td>197005</td>
<td>198686</td>
<td>221036</td>
<td>258049</td>
<td>217366</td>
<td>127348</td>
<td>76489</td>
<td>28346</td>
<td>3860</td>
<td>314</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>대전광역시</td>
<td>1518775</td>
<td>1518775</td>
<td>145049</td>
<td>184964</td>
<td>210749</td>
<td>228720</td>
<td>267008</td>
<td>238664</td>
<td>134281</td>
<td>76136</td>
<td>29005</td>
<td>3918</td>
<td>281</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>울산광역시</td>
<td>1173534</td>
<td>1173534</td>
<td>116241</td>
<td>139958</td>
<td>158615</td>
<td>180833</td>
<td>211988</td>
<td>201390</td>
<td>100468</td>
<td>45817</td>
<td>16011</td>
<td>2074</td>
<td>139</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>세종특별자치시</td>
<td>210884</td>
<td>210884</td>
<td>29825</td>
<td>23398</td>
<td>23043</td>
<td>40025</td>
<td>37370</td>
<td>25872</td>
<td>15614</td>
<td>10351</td>
<td>4718</td>
<td>634</td>
<td>34</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>경기도</td>
<td>12522606</td>
<td>12522606</td>
<td>1251234</td>
<td>1479739</td>
<td>1644870</td>
<td>1969170</td>
<td>2302937</td>
<td>1962003</td>
<td>1027712</td>
<td>616198</td>
<td>232931</td>
<td>32804</td>
<td>3008</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>강원도</td>
<td>1549507</td>
<td>1549507</td>
<td>123275</td>
<td>171073</td>
<td>184802</td>
<td>189754</td>
<td>250407</td>
<td>269286</td>
<td>171452</td>
<td>131730</td>
<td>49542</td>
<td>7578</td>
<td>608</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>충청북도</td>
<td>1583952</td>
<td>1583952</td>
<td>142319</td>
<td>179628</td>
<td>196456</td>
<td>216258</td>
<td>262133</td>
<td>260270</td>
<td>158194</td>
<td>114586</td>
<td>47691</td>
<td>5977</td>
<td>440</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>충청남도</td>
<td>2077649</td>
<td>2077649</td>
<td>197236</td>
<td>229214</td>
<td>244233</td>
<td>296909</td>
<td>333108</td>
<td>318857</td>
<td>212781</td>
<td>160439</td>
<td>74759</td>
<td>9433</td>
<td>680</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>전라북도</td>
<td>1869711</td>
<td>1869711</td>
<td>159824</td>
<td>217813</td>
<td>218698</td>
<td>232517</td>
<td>299535</td>
<td>295583</td>
<td>210933</td>
<td>155007</td>
<td>70437</td>
<td>8725</td>
<td>639</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>전라남도</td>
<td>1908996</td>
<td>1908996</td>
<td>158142</td>
<td>209957</td>
<td>206551</td>
<td>224820</td>
<td>291730</td>
<td>308904</td>
<td>224235</td>
<td>190822</td>
<td>82190</td>
<td>10892</td>
<td>753</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>경상북도</td>
<td>2702826</td>
<td>2702826</td>
<td>223394</td>
<td>277327</td>
<td>311383</td>
<td>347557</td>
<td>428513</td>
<td>456781</td>
<td>314821</td>
<td>229763</td>
<td>99895</td>
<td>12658</td>
<td>734</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>경상남도</td>
<td>3364702</td>
<td>3364702</td>
<td>317867</td>
<td>384287</td>
<td>394794</td>
<td>476814</td>
<td>580967</td>
<td>551878</td>
<td>337382</td>
<td>216802</td>
<td>92498</td>
<td>10817</td>
<td>596</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>제주특별자치도</td>
<td>624395</td>
<td>624395</td>
<td>63183</td>
<td>77313</td>
<td>73565</td>
<td>85811</td>
<td>110642</td>
<td>96129</td>
<td>57880</td>
<td>39258</td>
<td>17326</td>
<td>3075</td>
<td>213</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="전국을-제외한-총-인구-그래프화" class="level4">
<h4 class="anchored" data-anchor-id="전국을-제외한-총-인구-그래프화">전국을 제외한 총 인구 그래프화</h4>
<div id="64860125" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data_pop <span class="op">=</span> pop.drop(<span class="dv">0</span>).groupby(<span class="st">'행정기관'</span>) <span class="op">\</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                      .agg(count <span class="op">=</span> (<span class="st">'총 인구수'</span>,<span class="st">'min'</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>data_pop <span class="op">=</span> data_pop.sort_values(<span class="st">'count'</span>,ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>data_pop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">행정기관</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기도</td>
<td>12522606</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">서울특별시</td>
<td>10022181</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">부산광역시</td>
<td>3513777</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상남도</td>
<td>3364702</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">인천광역시</td>
<td>2925815</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상북도</td>
<td>2702826</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">대구광역시</td>
<td>2487829</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">충청남도</td>
<td>2077649</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">전라남도</td>
<td>1908996</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">전라북도</td>
<td>1869711</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">충청북도</td>
<td>1583952</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원도</td>
<td>1549507</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">대전광역시</td>
<td>1518775</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">광주광역시</td>
<td>1472199</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">울산광역시</td>
<td>1173534</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">제주특별자치도</td>
<td>624395</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">세종특별자치시</td>
<td>210884</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="68473608" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>plt.rcParams.update({<span class="st">'font.family'</span> : <span class="st">'Malgun Gothic'</span>})</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> data_pop, y <span class="op">=</span> <span class="st">'행정기관'</span>, x <span class="op">=</span> <span class="st">'count'</span>, hue <span class="op">=</span> <span class="st">'행정기관'</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-7-output-1.png" width="670" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>경기도와 서울은 수도권 특성상 면적대비 많은 인구가 몰려있다. 그렇기에 전통시장의 갯수도 많을 수 밖에 없는 조건이므로 나중 분석에서 제외할 예정이다.</p>
</section>
<section id="각-지역마다-연령층-비율-계산하기" class="level4">
<h4 class="anchored" data-anchor-id="각-지역마다-연령층-비율-계산하기">각 지역마다 연령층 비율 계산하기</h4>
<div id="b6c09a08" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pop_서울, pop_부산, pop_대구, pop_인천, pop_광주, pop_대전, pop_울산, pop_세종, <span class="op">\</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>pop_경기, pop_강원, pop_충북, pop_충남, pop_전북, pop_전남, pop_경북, pop_경남, pop_제주 <span class="op">=</span> [</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    pop[<span class="st">'총 인구수'</span>][i] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">18</span>)]</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>서울_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">1</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_서울<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>부산_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">2</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_부산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>대구_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">3</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대구<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>인천_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">4</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_인천<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>광주_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">5</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_광주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>대전_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">6</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대전<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>울산_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">7</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_울산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>세종_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">8</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_세종<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>경기_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">9</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경기<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>강원_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">10</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_강원<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>충북_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">11</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>충남_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">12</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>전북_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">13</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>전남_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">14</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>경북_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">15</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>경남_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">16</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>제주_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">17</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_제주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>서울_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">1</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_서울 <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>부산_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">2</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_부산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>대구_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">3</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대구<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>인천_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">4</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_인천<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>광주_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">5</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_광주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>대전_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">6</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대전<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>울산_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">7</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_울산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>세종_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">8</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_세종<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>경기_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">9</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경기<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>강원_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">10</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_강원<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>충북_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">11</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>충남_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">12</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>전북_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">13</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>전남_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">14</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>경북_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">15</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>경남_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">16</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>제주_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">17</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_제주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>서울_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">1</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_서울 <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>부산_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">2</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_부산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>대구_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">3</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대구<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>인천_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">4</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_인천<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>광주_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">5</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_광주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>대전_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">6</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대전<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>울산_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">7</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_울산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>세종_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">8</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_세종<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>경기_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">9</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경기<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>강원_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">10</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_강원<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>충북_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">11</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>충남_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">12</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>전북_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">13</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>전남_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">14</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>경북_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">15</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>경남_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">16</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>제주_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">17</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_제주<span class="op">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="인구-비율-dataframe-만들기" class="level4">
<h4 class="anchored" data-anchor-id="인구-비율-dataframe-만들기">인구 비율 DataFrame 만들기</h4>
<div id="81934a97" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>pop_ratio <span class="op">=</span> pd.DataFrame({</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'서울'</span>      : [서울_유소년_비율, 서울_성인_비율, 서울_노인_비율],</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'부산'</span>      : [부산_유소년_비율, 부산_성인_비율, 부산_노인_비율],</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'대구'</span>      : [대구_유소년_비율, 대구_성인_비율, 대구_노인_비율],</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">'인천'</span>    : [인천_유소년_비율, 인천_성인_비율, 인천_노인_비율],</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">'광주'</span>    : [광주_유소년_비율, 광주_성인_비율, 광주_노인_비율],</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">'대전'</span>     : [대전_유소년_비율, 대전_성인_비율, 대전_노인_비율],</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">'울산'</span>      : [울산_유소년_비율, 울산_성인_비율, 울산_노인_비율],</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">'세종'</span>     : [세종_유소년_비율, 세종_성인_비율, 세종_노인_비율],</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">'경기도'</span>   : [경기_유소년_비율, 경기_성인_비율, 경기_노인_비율],</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">'강원'</span>    : [강원_유소년_비율, 강원_성인_비율, 강원_노인_비율],</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">'충청북도'</span>  : [충북_유소년_비율, 충북_성인_비율, 충북_노인_비율],</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">'충청남도'</span>  : [충남_유소년_비율, 충남_성인_비율, 충남_노인_비율],</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">'전라북도'</span>    : [전북_유소년_비율, 전북_성인_비율, 전북_노인_비율],</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">'전라남도'</span>    : [전남_유소년_비율, 전남_성인_비율, 전남_노인_비율],</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">'경상북도'</span> : [경북_유소년_비율, 경북_성인_비율, 경북_노인_비율],</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">'경상남도'</span> : [경남_유소년_비율, 경남_성인_비율, 경남_노인_비율],</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">'제주도'</span>       : [제주_유소년_비율, 제주_성인_비율, 제주_노인_비율]</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>pop_ratio.index <span class="op">=</span> [<span class="st">'age_under_20'</span>,<span class="st">'age_2050'</span>,<span class="st">'age_over_60'</span>]</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>pop_ratio <span class="op">=</span> pop_ratio.transpose()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="21f89d73" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 지역 칼럼 추가하기</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>pop_ratio[<span class="st">'region'</span>] <span class="op">=</span> [<span class="st">'서울특별시'</span>, <span class="st">'부산광역시'</span>, <span class="st">'대구광역시'</span>, <span class="st">'인천광역시'</span>, <span class="st">'광주광역시'</span>, <span class="st">'대전광역시'</span>, <span class="st">'울산광역시'</span>, <span class="st">'세종특별시'</span>, <span class="st">'경기도'</span>, <span class="st">'강원도'</span>, <span class="st">'충청북도'</span>, <span class="st">'충청남도'</span>, <span class="st">'전라북도'</span>, <span class="st">'전라남도'</span>, <span class="st">'경상북도'</span>, <span class="st">'경상남도'</span>, <span class="st">'제주도'</span>]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>pop_ratio</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>pop_ratio.sort_values(<span class="st">'age_over_60'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age_under_20</th>
<th data-quarto-table-cell-role="th">age_2050</th>
<th data-quarto-table-cell-role="th">age_over_60</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">전라남도</td>
<td>19.282335</td>
<td>54.060092</td>
<td>26.657573</td>
<td>전라남도</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상북도</td>
<td>18.525832</td>
<td>57.134052</td>
<td>24.340117</td>
<td>경상북도</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">전라북도</td>
<td>20.197613</td>
<td>55.962285</td>
<td>23.840101</td>
<td>전라북도</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원</td>
<td>18.996236</td>
<td>57.711840</td>
<td>23.291924</td>
<td>강원도</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">충청남도</td>
<td>20.525604</td>
<td>57.425821</td>
<td>22.048575</td>
<td>충청남도</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">부산</td>
<td>17.437931</td>
<td>60.857391</td>
<td>21.704678</td>
<td>부산광역시</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">충청북도</td>
<td>20.325553</td>
<td>59.036953</td>
<td>20.637494</td>
<td>충청북도</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상남도</td>
<td>20.868237</td>
<td>59.572973</td>
<td>19.558790</td>
<td>경상남도</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주도</td>
<td>22.501141</td>
<td>58.640284</td>
<td>18.858575</td>
<td>제주도</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">대구</td>
<td>20.005595</td>
<td>61.407557</td>
<td>18.586848</td>
<td>대구광역시</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울</td>
<td>17.651737</td>
<td>63.912396</td>
<td>18.435867</td>
<td>서울특별시</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">광주</td>
<td>23.142591</td>
<td>60.802718</td>
<td>16.054691</td>
<td>광주광역시</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">대전</td>
<td>21.728893</td>
<td>62.230482</td>
<td>16.040625</td>
<td>대전광역시</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">인천</td>
<td>20.380236</td>
<td>63.853490</td>
<td>15.766274</td>
<td>인천광역시</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기도</td>
<td>21.808344</td>
<td>62.918054</td>
<td>15.273602</td>
<td>경기도</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">세종</td>
<td>25.238046</td>
<td>59.895488</td>
<td>14.866467</td>
<td>세종특별시</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">울산</td>
<td>21.831408</td>
<td>64.150336</td>
<td>14.018256</td>
<td>울산광역시</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="전통시장-데이터-불러오기" class="level1">
<h1>전통시장 데이터 불러오기</h1>
<div id="08db3ab3" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터 불러오기</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>market <span class="op">=</span> pd.read_excel(<span class="st">"data/traditionalmarket.xlsx"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 분석을 위한 복사본 만들기</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>market2 <span class="op">=</span> market.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fe5388c8" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 엑셀의 변수 한글을 영어로 rename</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>market2 <span class="op">=</span> market2.rename(columns <span class="op">=</span> {<span class="st">"시장명"</span>              : <span class="st">"market_name"</span>, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"시장유형"</span>            : <span class="st">"type"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"소재지도로명주소"</span>    : <span class="st">"adress_road"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"시장개설주기"</span>        : <span class="st">"open_period"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"소재지지번주소"</span>      : <span class="st">"address_old"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"점포수"</span>              : <span class="st">"market_count"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"사용가능상품권"</span>      : <span class="st">"certificate"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"공중화장실 보유여부"</span> :<span class="st">"public_toilet"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"주차장 보유여부"</span>     : <span class="st">"parking_lot"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"개설년도"</span>            : <span class="st">"year"</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"데이터기준일자"</span>      : <span class="st">"data_date"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="89e9d801" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터의 정보 확인하기</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>market2.describe()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">"public_toilet"</span>].info()</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">"parking_lot"</span>].info()</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">'market_count'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.series.Series'&gt;
RangeIndex: 1439 entries, 0 to 1438
Series name: public_toilet
Non-Null Count  Dtype 
--------------  ----- 
1439 non-null   object
dtypes: object(1)
memory usage: 11.4+ KB
&lt;class 'pandas.core.series.Series'&gt;
RangeIndex: 1439 entries, 0 to 1438
Series name: parking_lot
Non-Null Count  Dtype 
--------------  ----- 
1439 non-null   object
dtypes: object(1)
memory usage: 11.4+ KB</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>count    1439.000000
mean      143.907575
std       298.989963
min         0.000000
25%        50.000000
50%        80.000000
75%       134.000000
max      5852.000000
Name: market_count, dtype: float64</code></pre>
</div>
</div>
<div id="044e3287" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 점포수에 따른 규모 크기를 설명해주는 변수 만들기</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>market2 <span class="op">=</span> market2.assign(market_scale <span class="op">=</span> np.where(market2[<span class="st">"market_count"</span>] <span class="op">&gt;=</span> <span class="dv">134</span>, <span class="st">"large"</span>, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                                        np.where(market2[<span class="st">"market_count"</span>] <span class="op">&gt;=</span> <span class="dv">50</span>, <span class="st">"medium"</span>, <span class="st">"small"</span>)))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 편의시설의 유무에 따른 레벨링 하기</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">'level'</span>] <span class="op">=</span> np.where((market2[<span class="st">'public_toilet'</span>] <span class="op">==</span> <span class="st">'Y'</span>) <span class="op">&amp;</span> (market2[<span class="st">'parking_lot'</span>] <span class="op">==</span> <span class="st">'Y'</span>), <span class="st">'high'</span>, </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                   np.where((market2[<span class="st">'public_toilet'</span>] <span class="op">==</span> <span class="st">'N'</span>) <span class="op">&amp;</span> (market2[<span class="st">'public_toilet'</span>] <span class="op">==</span> <span class="st">'N'</span>) , <span class="st">'low'</span>, <span class="st">'intermediate'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6728d26e" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 확인 절차</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>market2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">market_name</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">adress_road</th>
<th data-quarto-table-cell-role="th">open_period</th>
<th data-quarto-table-cell-role="th">address_old</th>
<th data-quarto-table-cell-role="th">market_count</th>
<th data-quarto-table-cell-role="th">certificate</th>
<th data-quarto-table-cell-role="th">public_toilet</th>
<th data-quarto-table-cell-role="th">parking_lot</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">data_date</th>
<th data-quarto-table-cell-role="th">market_scale</th>
<th data-quarto-table-cell-role="th">level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>중앙시장</td>
<td>상설</td>
<td>강원도 강릉시 금성로 21</td>
<td>상설</td>
<td>강원 강릉시 성남동 50번지</td>
<td>229</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>1980.0</td>
<td>2015-12-31</td>
<td>large</td>
<td>high</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>강릉동부시장</td>
<td>상설</td>
<td>강원도 강릉시 옥천로 48</td>
<td>상설</td>
<td>강원 강릉시 옥천동 223번지</td>
<td>91</td>
<td>NaN</td>
<td>Y</td>
<td>N</td>
<td>2014.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>intermediate</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>강릉서부시장</td>
<td>상설</td>
<td>강원도 강릉시 임영로 155번길 6</td>
<td>상설</td>
<td>강원 강릉시 용강동 29번지</td>
<td>109</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>1977.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>high</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>주문진종합시장</td>
<td>상설+정기</td>
<td>강원도 강릉시 주문진읍 구 시장길</td>
<td>5일</td>
<td>강원 강릉시 주문진읍 주문리 321-52번지</td>
<td>77</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2006.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>high</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>주문진수산시장</td>
<td>상설</td>
<td>강원도 강릉시 주문진읍 시장1길 4-1</td>
<td>상설</td>
<td>강원 강릉시 주문진읍 주문리 312-91번지</td>
<td>42</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2007.0</td>
<td>2015-12-31</td>
<td>small</td>
<td>high</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="d0ee3a5d" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 그래프 그리기</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># x축을 편의 시설 레벨</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>sns.countplot(data <span class="op">=</span> market2, x <span class="op">=</span> <span class="st">'level'</span>, hue <span class="op">=</span> <span class="st">'level'</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-16-output-1.png" width="590" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="e2818b33" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 그래프 그리기 위한 df 생성</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 시장 유형와 규모 크기에 따른 그룹화 / 규모 크기 갯수 추가</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> market2.groupby([<span class="st">"type"</span>, <span class="st">"market_scale"</span>], as_index <span class="op">=</span> <span class="va">False</span>) <span class="op">\</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            .agg(market_count <span class="op">=</span> (<span class="st">"market_scale"</span>, <span class="st">"count"</span>))</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 규모 크기에 따른 내림차순</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>df.sort_values(<span class="st">'market_count'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 만든 df를 x축에 시장 유형, y축은 규모 크기에 따른 점포 갯수</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> df, y <span class="op">=</span> <span class="st">'type'</span>, x <span class="op">=</span> <span class="st">'market_count'</span>, hue <span class="op">=</span> <span class="st">'market_scale'</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-17-output-1.png" width="630" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="10174964" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="인구-데이터와-시장-데이터-합치기" class="level1">
<h1>인구 데이터와 시장 데이터 합치기</h1>
<div id="1489fdbf" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">'region'</span>] <span class="op">=</span> market2[<span class="st">'adress_road'</span>].<span class="bu">str</span>.split().<span class="bu">str</span>[<span class="dv">0</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>market_pop <span class="op">=</span> pd.merge(market2, pop_ratio, how <span class="op">=</span> <span class="st">'left'</span>, on <span class="op">=</span> <span class="st">'region'</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>market_pop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">market_name</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">adress_road</th>
<th data-quarto-table-cell-role="th">open_period</th>
<th data-quarto-table-cell-role="th">address_old</th>
<th data-quarto-table-cell-role="th">market_count</th>
<th data-quarto-table-cell-role="th">certificate</th>
<th data-quarto-table-cell-role="th">public_toilet</th>
<th data-quarto-table-cell-role="th">parking_lot</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">data_date</th>
<th data-quarto-table-cell-role="th">market_scale</th>
<th data-quarto-table-cell-role="th">level</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">age_under_20</th>
<th data-quarto-table-cell-role="th">age_2050</th>
<th data-quarto-table-cell-role="th">age_over_60</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>중앙시장</td>
<td>상설</td>
<td>강원도 강릉시 금성로 21</td>
<td>상설</td>
<td>강원 강릉시 성남동 50번지</td>
<td>229</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>1980.0</td>
<td>2015-12-31</td>
<td>large</td>
<td>high</td>
<td>강원도</td>
<td>18.996236</td>
<td>57.711840</td>
<td>23.291924</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>강릉동부시장</td>
<td>상설</td>
<td>강원도 강릉시 옥천로 48</td>
<td>상설</td>
<td>강원 강릉시 옥천동 223번지</td>
<td>91</td>
<td>NaN</td>
<td>Y</td>
<td>N</td>
<td>2014.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>intermediate</td>
<td>강원도</td>
<td>18.996236</td>
<td>57.711840</td>
<td>23.291924</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>강릉서부시장</td>
<td>상설</td>
<td>강원도 강릉시 임영로 155번길 6</td>
<td>상설</td>
<td>강원 강릉시 용강동 29번지</td>
<td>109</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>1977.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>high</td>
<td>강원도</td>
<td>18.996236</td>
<td>57.711840</td>
<td>23.291924</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>주문진종합시장</td>
<td>상설+정기</td>
<td>강원도 강릉시 주문진읍 구 시장길</td>
<td>5일</td>
<td>강원 강릉시 주문진읍 주문리 321-52번지</td>
<td>77</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2006.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>high</td>
<td>강원도</td>
<td>18.996236</td>
<td>57.711840</td>
<td>23.291924</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>주문진수산시장</td>
<td>상설</td>
<td>강원도 강릉시 주문진읍 시장1길 4-1</td>
<td>상설</td>
<td>강원 강릉시 주문진읍 주문리 312-91번지</td>
<td>42</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2007.0</td>
<td>2015-12-31</td>
<td>small</td>
<td>high</td>
<td>강원도</td>
<td>18.996236</td>
<td>57.711840</td>
<td>23.291924</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1434</td>
<td>엄정내창시장</td>
<td>상설+정기</td>
<td>충청북도 충주시 엄정면 내창로 191-1</td>
<td>5일</td>
<td>충북 충주시 엄정면 미내리 159-15</td>
<td>98</td>
<td>온누리상품권</td>
<td>N</td>
<td>N</td>
<td>2013.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>low</td>
<td>충청북도</td>
<td>20.325553</td>
<td>59.036953</td>
<td>20.637494</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1435</td>
<td>중앙공설시장</td>
<td>상설</td>
<td>충청북도 충주시 예성로 168</td>
<td>상설</td>
<td>충북 충주시 성서동 306</td>
<td>65</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2005.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>high</td>
<td>충청북도</td>
<td>20.325553</td>
<td>59.036953</td>
<td>20.637494</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1436</td>
<td>남부시장</td>
<td>상설</td>
<td>충청북도 충주시 지곡10길 38-1</td>
<td>상설</td>
<td>충북 충주시 지현동 1431</td>
<td>61</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2005.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>high</td>
<td>충청북도</td>
<td>20.325553</td>
<td>59.036953</td>
<td>20.637494</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1437</td>
<td>충주자유시장</td>
<td>상설+정기</td>
<td>충청북도 충주시 충인6길 16</td>
<td>5일</td>
<td>충북 충주시 충인동 325</td>
<td>274</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2005.0</td>
<td>2015-12-31</td>
<td>large</td>
<td>high</td>
<td>충청북도</td>
<td>20.325553</td>
<td>59.036953</td>
<td>20.637494</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1438</td>
<td>목행시장</td>
<td>상설+정기</td>
<td>충청북도 충주시 행정9길 35</td>
<td>5일</td>
<td>충북 충주시 목행동 676-44</td>
<td>92</td>
<td>온누리상품권</td>
<td>Y</td>
<td>Y</td>
<td>2013.0</td>
<td>2015-12-31</td>
<td>medium</td>
<td>high</td>
<td>충청북도</td>
<td>20.325553</td>
<td>59.036953</td>
<td>20.637494</td>
</tr>
</tbody>
</table>

<p>1439 rows × 17 columns</p>
</div>
</div>
</div>
</section>
<section id="대-이상-비율의-계급-나누기" class="level1">
<h1>60대 이상 비율의 계급 나누기</h1>
<div id="32a184c8" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>market_pop[<span class="st">'age_over_60'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>count    1439.000000
mean       20.253145
std         3.405308
min        14.018256
25%        18.435867
50%        19.558790
75%        23.291924
max        26.657573
Name: age_over_60, dtype: float64</code></pre>
</div>
</div>
<p>중앙값 19.55% 보다 높은 지역을 60대 이상 비율이 많다고 정의</p>
</section>
<section id="시장-종류-갯수" class="level1">
<h1>시장 종류 갯수</h1>
<div id="e019340e" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 노인인구 평균 비교</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>market_pop[<span class="st">'under'</span>] <span class="op">=</span> np.where(market_pop[<span class="st">'age_over_60'</span>] <span class="op">&lt;</span> <span class="fl">19.55</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>market_pop[<span class="st">'over'</span>] <span class="op">=</span> np.where(market_pop[<span class="st">'age_over_60'</span>] <span class="op">&gt;=</span> <span class="fl">19.55</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>market_pop.groupby([<span class="st">'region'</span>]) <span class="op">\</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>          .agg(노인인구평균이상 <span class="op">=</span> (<span class="st">'over'</span>,<span class="st">'sum'</span>), 노인인구평균이하 <span class="op">=</span> (<span class="st">'under'</span>,<span class="st">'sum'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">노인인구평균이상</th>
<th data-quarto-table-cell-role="th">노인인구평균이하</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원도</td>
<td>58</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경기도</td>
<td>0</td>
<td>130</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">경상남도</td>
<td>155</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상북도</td>
<td>149</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">광주광역시</td>
<td>0</td>
<td>26</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">대구광역시</td>
<td>0</td>
<td>109</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">대전광역시</td>
<td>0</td>
<td>27</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">부산광역시</td>
<td>169</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울특별시</td>
<td>0</td>
<td>216</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">세종특별시</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">울산광역시</td>
<td>0</td>
<td>40</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">인천광역시</td>
<td>0</td>
<td>46</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">전라남도</td>
<td>108</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">전라북도</td>
<td>60</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주도</td>
<td>0</td>
<td>25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">충청남도</td>
<td>58</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">충청북도</td>
<td>59</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>시장 종류가 몇 개인지 알아보기 위해 지역기준으로 1행에서 노인인구 비율이 높으면 1, 2행에서도 노인인구 비율이 낮으면 1의 값을 주어 모두 더하는 방식으로 계산했다.</p>
<div id="4a57de28" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>market_pop[<span class="st">'over'</span>] <span class="op">=</span> np.where(market_pop[<span class="st">'age_over_60'</span>] <span class="op">&gt;=</span> <span class="fl">19.55</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>market_pop.groupby([<span class="st">'region'</span>]) <span class="op">\</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>          .agg(시장종류갯수 <span class="op">=</span> (<span class="st">'over'</span>,<span class="st">'sum'</span>)) <span class="op">\</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>          .sort_values(<span class="st">'시장종류갯수'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시장종류갯수</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울특별시</td>
<td>216</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">부산광역시</td>
<td>169</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">경상남도</td>
<td>155</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상북도</td>
<td>149</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기도</td>
<td>130</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">대구광역시</td>
<td>109</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">전라남도</td>
<td>108</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">전라북도</td>
<td>60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">충청북도</td>
<td>59</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">충청남도</td>
<td>58</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원도</td>
<td>58</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">인천광역시</td>
<td>46</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">울산광역시</td>
<td>40</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">대전광역시</td>
<td>27</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">광주광역시</td>
<td>26</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">제주도</td>
<td>25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">세종특별시</td>
<td>4</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="b1256aa4" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>시장종류갯수 <span class="op">=</span> market_pop.groupby([<span class="st">'region'</span>]) <span class="op">\</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                         .agg(시장종류갯수 <span class="op">=</span> (<span class="st">'over'</span>,<span class="st">'sum'</span>)) <span class="op">\</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                         .sort_values(<span class="st">'시장종류갯수'</span>,ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> 시장종류갯수, y <span class="op">=</span> <span class="st">'region'</span>, x <span class="op">=</span> <span class="st">'시장종류갯수'</span>, hue <span class="op">=</span> <span class="st">'시장종류갯수'</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-23-output-1.png" width="634" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>각 지역의 점포수를 sum 해보기 -over 값을 up down으로 수정하기-</p>
<div id="f99259dc" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#중앙값보다 높고 낮음을 yes | no로 표시하기</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>market_pop[<span class="st">'over'</span>] <span class="op">=</span> np.where(market_pop[<span class="st">'age_over_60'</span>] <span class="op">&gt;=</span> <span class="fl">19.55</span>,<span class="st">'Y'</span>,<span class="st">'N'</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>over_점포수 <span class="op">=</span> market_pop.groupby([<span class="st">'region'</span>,<span class="st">'over'</span>]) <span class="op">\</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>                        .agg(count <span class="op">=</span> (<span class="st">'market_count'</span>,<span class="st">'sum'</span>)) <span class="op">\</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                        .sort_values(<span class="st">'count'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>over_점포수</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">over</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울특별시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>50146</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">부산광역시</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>29094</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기도</td>
<td data-quarto-table-cell-role="th">N</td>
<td>18977</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상남도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>18156</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">경상북도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>16582</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">대구광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>14290</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">인천광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>10555</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">충청남도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>7657</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">전라남도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>7248</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">충청북도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>7156</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>6811</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">전라북도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>5139</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주도</td>
<td data-quarto-table-cell-role="th">N</td>
<td>4181</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">울산광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>3722</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">대전광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>3413</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">광주광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>3411</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">세종특별시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>545</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="3450d1fd" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#서울과 경기도의 인구 비율 고려하기</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>(pop_서울 <span class="op">+</span> pop_경기) <span class="op">/</span> <span class="dv">51529338</span> <span class="op">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>43.75136160297654</code></pre>
</div>
</div>
<p>2015년 서울과 경기도의 인구 비율은 43.75% 로 가장 많은 인구가 있다. 인구가 많으면 자연스레 시장의 수도 많은 것은 부정할 수 없는 사실이다.</p>
<p>그래서 이 두 지역을 제외한 나머지 결과를 보았습니다.</p>
<div id="d8483ba5" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 서울과 경기도를 제외한 인구 그래프</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> data_pop[<span class="dv">2</span>:], y <span class="op">=</span> <span class="st">'행정기관'</span>, x <span class="op">=</span> <span class="st">'count'</span>, hue <span class="op">=</span> <span class="st">'행정기관'</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-26-output-1.png" width="670" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="26a87ffa" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 인구 많은 지역 제외</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>over_점포수_new <span class="op">=</span> over_점포수.drop(<span class="st">'서울특별시'</span>).drop(<span class="st">'경기도'</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>over_점포수_new</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\USER\AppData\Local\Temp\ipykernel_4952\2426921295.py:2: PerformanceWarning:

dropping on a non-lexsorted multi-index without a level parameter may impact performance.
</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">over</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">부산광역시</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>29094</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경상남도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>18156</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">경상북도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>16582</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">대구광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>14290</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">인천광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>10555</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">충청남도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>7657</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">전라남도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>7248</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">충청북도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>7156</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>6811</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">전라북도</td>
<td data-quarto-table-cell-role="th">Y</td>
<td>5139</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주도</td>
<td data-quarto-table-cell-role="th">N</td>
<td>4181</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">울산광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>3722</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">대전광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>3413</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">광주광역시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>3411</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">세종특별시</td>
<td data-quarto-table-cell-role="th">N</td>
<td>545</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="50a8e154" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> over_점포수_new, y <span class="op">=</span> <span class="st">'region'</span>, x <span class="op">=</span> <span class="st">'count'</span>, hue <span class="op">=</span> <span class="st">'over'</span>, palette<span class="op">=</span><span class="st">'Set1'</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-28-output-1.png" width="643" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>상위 5개 중 노인비율이 높은 3곳이 점포수가 많았으며, 노인비율이 낮은 대구, 인천이 4,5위를 하였습니다.</p>
<p>충청도,전라도,강원도와 같은 노인비율이 높은 곳이 다음 순위를 기록하였습니다. 제주도, 3개의 광역시, 세종특별시가 하위권을 기록하였습니다.</p>
<div id="55a5ced1" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> data_pop[<span class="dv">2</span>:], y <span class="op">=</span> <span class="st">'행정기관'</span>, x <span class="op">=</span> <span class="st">'count'</span>, hue <span class="op">=</span> <span class="st">'행정기관'</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> over_점포수_new, y <span class="op">=</span> <span class="st">'region'</span>, x <span class="op">=</span> <span class="st">'count'</span>, hue <span class="op">=</span> <span class="st">'over'</span>, palette<span class="op">=</span><span class="st">'Set1'</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-29-output-1.png" width="670" height="429" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-29-output-2.png" width="643" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>지역 인구수 3위 : 인천광역시가 점포수에서는 5위</p>
<p>지역 인구수 5위 : 대구광역시가 점포수에서는 4위</p>
<p>를 기록하였습니다.</p>
<p>인천은 인구가 많지만 노인인구비율이 적어 점포수에서 하락(???)했습니다. 반대로 대구는 인천보다 인구수가 적지만 경상도의 중심에 있다는 정보를 고려하면 노인인구 비율이 높은 영향을 받아 점포수에서 순위 상승이 있는 것로 판단(????)</p>
<p>인구가 많으면서 노인비율이 높은 부산광역시에서 점포수가 가장 많았습니다. 그리고 인천과 대구 2개의 광역시가 4,5위를 기록했지만 노인인구비율이 높은 도 단위 행정구역이 모두 상단에 위치한다는 점을 알 수 있었습니다.</p>
<p>기본적으로 점포수는 인구수의 영향을 받아 순위가 메겨지는 점은 당연한 사실입니다. 하지만 노인인구비율도 높은 곳이 동시에 점포수가 많다는 점을 알 수 있습니다.</p>
</section>
<section id="점포갯수-노인인구" class="level1">
<h1>점포갯수 / 노인인구</h1>
<div id="bbd001fd" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 지역별 노인 인구</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>서울_노인 <span class="op">=</span> (pop.iloc[<span class="dv">1</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>부산_노인 <span class="op">=</span> (pop.iloc[<span class="dv">2</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>대구_노인 <span class="op">=</span> (pop.iloc[<span class="dv">3</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>인천_노인 <span class="op">=</span> (pop.iloc[<span class="dv">4</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>광주_노인 <span class="op">=</span> (pop.iloc[<span class="dv">5</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>대전_노인 <span class="op">=</span> (pop.iloc[<span class="dv">6</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>울산_노인 <span class="op">=</span> (pop.iloc[<span class="dv">7</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>세종_노인 <span class="op">=</span> (pop.iloc[<span class="dv">8</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>경기_노인 <span class="op">=</span> (pop.iloc[<span class="dv">9</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>강원_노인 <span class="op">=</span> (pop.iloc[<span class="dv">10</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>충북_노인 <span class="op">=</span> (pop.iloc[<span class="dv">11</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>충남_노인 <span class="op">=</span> (pop.iloc[<span class="dv">12</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>전북_노인 <span class="op">=</span> (pop.iloc[<span class="dv">13</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>전남_노인 <span class="op">=</span> (pop.iloc[<span class="dv">14</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>경북_노인 <span class="op">=</span> (pop.iloc[<span class="dv">15</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>경남_노인 <span class="op">=</span> (pop.iloc[<span class="dv">16</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>제주_노인 <span class="op">=</span> (pop.iloc[<span class="dv">17</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>())</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>지역별노인 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'region'</span> : [<span class="st">'서울특별시'</span>, <span class="st">'부산광역시'</span>, <span class="st">'대구광역시'</span>, <span class="st">'인천광역시'</span>, <span class="st">'광주광역시'</span>,</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대전광역시'</span>, <span class="st">'울산광역시'</span>, <span class="st">'세종특별시'</span>, <span class="st">'경기도'</span>, <span class="st">'강원도'</span>, <span class="st">'충청북도'</span>,</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청남도'</span>,<span class="st">'전라북도'</span>,<span class="st">'전라남도'</span>, <span class="st">'경상북도'</span>, <span class="st">'경상남도'</span>, <span class="st">'제주도'</span>],</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'노인인구수'</span> : [서울_노인,부산_노인,대구_노인,인천_노인,광주_노인,대전_노인,울산_노인,</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>                   세종_노인,경기_노인,강원_노인,충북_노인,충남_노인,전북_노인,전남_노인,</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>                   경북_노인,경남_노인,제주_노인]</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>                   })</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>지역별노인 <span class="op">=</span> 지역별노인.sort_values(<span class="st">'노인인구수'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>지역별노인</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">노인인구수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>경기도</td>
<td>1912653</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>서울특별시</td>
<td>1847676</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>부산광역시</td>
<td>762654</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>경상남도</td>
<td>658095</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>경상북도</td>
<td>657871</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>전라남도</td>
<td>508892</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>대구광역시</td>
<td>462409</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>인천광역시</td>
<td>461292</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>충청남도</td>
<td>458092</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>전라북도</td>
<td>445741</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>강원도</td>
<td>360910</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>충청북도</td>
<td>326888</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>대전광역시</td>
<td>243621</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>광주광역시</td>
<td>236357</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>울산광역시</td>
<td>164509</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>제주도</td>
<td>117752</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>세종특별시</td>
<td>31351</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="19c16a64" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 시장데이터와 지역별노인 데이터 합치기</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>market_pop_old <span class="op">=</span> pd.merge(market_pop, 지역별노인, how <span class="op">=</span> <span class="st">'left'</span>, on <span class="op">=</span> <span class="st">'region'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3fe557da" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>ratio_old <span class="op">=</span> market_pop_old.groupby([<span class="st">'region'</span>,<span class="st">'노인인구수'</span>], as_index <span class="op">=</span> <span class="va">False</span>) <span class="op">\</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>                          .agg(count <span class="op">=</span> (<span class="st">'market_count'</span>,<span class="st">'sum'</span>)) <span class="op">\</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                          .sort_values(<span class="st">'count'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>ratio_old</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">노인인구수</th>
<th data-quarto-table-cell-role="th">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>서울특별시</td>
<td>1847676</td>
<td>50146</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>부산광역시</td>
<td>762654</td>
<td>29094</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>경기도</td>
<td>1912653</td>
<td>18977</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>경상남도</td>
<td>658095</td>
<td>18156</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>경상북도</td>
<td>657871</td>
<td>16582</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>대구광역시</td>
<td>462409</td>
<td>14290</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>인천광역시</td>
<td>461292</td>
<td>10555</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>충청남도</td>
<td>458092</td>
<td>7657</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>전라남도</td>
<td>508892</td>
<td>7248</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>충청북도</td>
<td>326888</td>
<td>7156</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>강원도</td>
<td>360910</td>
<td>6811</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>전라북도</td>
<td>445741</td>
<td>5139</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>제주도</td>
<td>117752</td>
<td>4181</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>울산광역시</td>
<td>164509</td>
<td>3722</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>대전광역시</td>
<td>243621</td>
<td>3413</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>광주광역시</td>
<td>236357</td>
<td>3411</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>세종특별시</td>
<td>31351</td>
<td>545</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="2e6bc357" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 점포 수 / 노인인구 수</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>ratio_old <span class="op">=</span> ratio_old.assign(ratio <span class="op">=</span> ratio_old[<span class="st">'count'</span>] <span class="op">/</span> ratio_old[<span class="st">'노인인구수'</span>] <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>ratio_old <span class="op">=</span> ratio_old.sort_values(<span class="st">'ratio'</span>,ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>ratio_old</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">노인인구수</th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">ratio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>부산광역시</td>
<td>762654</td>
<td>29094</td>
<td>3.814836</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>제주도</td>
<td>117752</td>
<td>4181</td>
<td>3.550683</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>대구광역시</td>
<td>462409</td>
<td>14290</td>
<td>3.090338</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>경상남도</td>
<td>658095</td>
<td>18156</td>
<td>2.758872</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>서울특별시</td>
<td>1847676</td>
<td>50146</td>
<td>2.714004</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>경상북도</td>
<td>657871</td>
<td>16582</td>
<td>2.520555</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>인천광역시</td>
<td>461292</td>
<td>10555</td>
<td>2.288139</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>울산광역시</td>
<td>164509</td>
<td>3722</td>
<td>2.262490</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>충청북도</td>
<td>326888</td>
<td>7156</td>
<td>2.189129</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>강원도</td>
<td>360910</td>
<td>6811</td>
<td>1.887174</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>세종특별시</td>
<td>31351</td>
<td>545</td>
<td>1.738382</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>충청남도</td>
<td>458092</td>
<td>7657</td>
<td>1.671498</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>광주광역시</td>
<td>236357</td>
<td>3411</td>
<td>1.443156</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>전라남도</td>
<td>508892</td>
<td>7248</td>
<td>1.424271</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>대전광역시</td>
<td>243621</td>
<td>3413</td>
<td>1.400947</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>전라북도</td>
<td>445741</td>
<td>5139</td>
<td>1.152912</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>경기도</td>
<td>1912653</td>
<td>18977</td>
<td>0.992182</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="b98a93b6" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> ratio_old, x <span class="op">=</span> <span class="st">'ratio'</span>, y <span class="op">=</span> <span class="st">'region'</span>, hue <span class="op">=</span> <span class="st">'region'</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/cell-34-output-1.png" width="642" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>